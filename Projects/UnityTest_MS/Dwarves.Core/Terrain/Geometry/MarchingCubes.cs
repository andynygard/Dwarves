// ----------------------------------------------------------------------------
// <copyright file="MarchingCubes.cs" company="Acidwashed Games">
//     Copyright 2012 Acidwashed Games. All right reserved.
// </copyright>
// ----------------------------------------------------------------------------
namespace Dwarves.Core.Terrain.Geometry
{
    using Dwarves.Core.Math;

    /// <summary>
    /// The tables used by the marching cubes algorithm.
    /// </summary>
    public static class MarchingCubes
    {
        #region Corner Vector

        /// <summary>
        /// The relative vector for each corner.
        /// </summary>
        public static readonly Vector3I[] CornerVector =
            {
                new Vector3I(0, 0, 0),
                new Vector3I(1, 0, 0),
                new Vector3I(0, 0, 1),
                new Vector3I(1, 0, 1),
                new Vector3I(0, 1, 0),
                new Vector3I(1, 1, 0),
                new Vector3I(0, 1, 1),
                new Vector3I(1, 1, 1)
            };

        #endregion Corner Vector

        #region Cell Geometry

        /// <summary>
        /// The geometry for the 16 cell classes.
        /// </summary>
        public static readonly CellGeometry[] CellGeometry = new[]
            {
                new CellGeometry(0x00, new byte[] {}),
                new CellGeometry(0x31, new byte[] {0, 1, 2}),
                new CellGeometry(0x62, new byte[] {0, 1, 2, 3, 4, 5}),
                new CellGeometry(0x42, new byte[] {0, 1, 2, 0, 2, 3}),
                new CellGeometry(0x53, new byte[] {0, 1, 4, 1, 3, 4, 1, 2, 3}),
                new CellGeometry(0x73, new byte[] {0, 1, 2, 0, 2, 3, 4, 5, 6}),
                new CellGeometry(0x93, new byte[] {0, 1, 2, 3, 4, 5, 6, 7, 8}),
                new CellGeometry(0x84, new byte[] {0, 1, 4, 1, 3, 4, 1, 2, 3, 5, 6, 7}),
                new CellGeometry(0x84, new byte[] {0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7}),
                new CellGeometry(0xC4, new byte[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11}),
                new CellGeometry(0x64, new byte[] {0, 4, 5, 0, 1, 4, 1, 3, 4, 1, 2, 3}),
                new CellGeometry(0x64, new byte[] {0, 5, 4, 0, 4, 1, 1, 4, 3, 1, 3, 2}),
                new CellGeometry(0x64, new byte[] {0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3}),
                new CellGeometry(0x64, new byte[] {0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5}),
                new CellGeometry(0x75, new byte[] {0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5, 0, 5, 6}),
                new CellGeometry(0x95, new byte[] {0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3, 6, 7, 8})
            };

        #endregion Cell Geometry

        #region Cell Class

        /// <summary>
        /// The 16 cell classes, accessible by case code.
        /// </summary>
        public static readonly byte[] CellClass = new byte[]
        {
            0x00, 0x01, 0x01, 0x03, 0x01, 0x03, 0x02, 0x04, 0x01, 0x02, 0x03, 0x04, 0x03, 0x04, 0x04, 0x03,
            0x01, 0x03, 0x02, 0x04, 0x02, 0x04, 0x06, 0x0C, 0x02, 0x05, 0x05, 0x0B, 0x05, 0x0A, 0x07, 0x04,
            0x01, 0x02, 0x03, 0x04, 0x02, 0x05, 0x05, 0x0A, 0x02, 0x06, 0x04, 0x0C, 0x05, 0x07, 0x0B, 0x04,
            0x03, 0x04, 0x04, 0x03, 0x05, 0x0B, 0x07, 0x04, 0x05, 0x07, 0x0A, 0x04, 0x08, 0x0E, 0x0E, 0x03,
            0x01, 0x02, 0x02, 0x05, 0x03, 0x04, 0x05, 0x0B, 0x02, 0x06, 0x05, 0x07, 0x04, 0x0C, 0x0A, 0x04,
            0x03, 0x04, 0x05, 0x0A, 0x04, 0x03, 0x07, 0x04, 0x05, 0x07, 0x08, 0x0E, 0x0B, 0x04, 0x0E, 0x03,
            0x02, 0x06, 0x05, 0x07, 0x05, 0x07, 0x08, 0x0E, 0x06, 0x09, 0x07, 0x0F, 0x07, 0x0F, 0x0E, 0x0D,
            0x04, 0x0C, 0x0B, 0x04, 0x0A, 0x04, 0x0E, 0x03, 0x07, 0x0F, 0x0E, 0x0D, 0x0E, 0x0D, 0x02, 0x01,
            0x01, 0x02, 0x02, 0x05, 0x02, 0x05, 0x06, 0x07, 0x03, 0x05, 0x04, 0x0A, 0x04, 0x0B, 0x0C, 0x04,
            0x02, 0x05, 0x06, 0x07, 0x06, 0x07, 0x09, 0x0F, 0x05, 0x08, 0x07, 0x0E, 0x07, 0x0E, 0x0F, 0x0D,
            0x03, 0x05, 0x04, 0x0B, 0x05, 0x08, 0x07, 0x0E, 0x04, 0x07, 0x03, 0x04, 0x0A, 0x0E, 0x04, 0x03,
            0x04, 0x0A, 0x0C, 0x04, 0x07, 0x0E, 0x0F, 0x0D, 0x0B, 0x0E, 0x04, 0x03, 0x0E, 0x02, 0x0D, 0x01,
            0x03, 0x05, 0x05, 0x08, 0x04, 0x0A, 0x07, 0x0E, 0x04, 0x07, 0x0B, 0x0E, 0x03, 0x04, 0x04, 0x03,
            0x04, 0x0B, 0x07, 0x0E, 0x0C, 0x04, 0x0F, 0x0D, 0x0A, 0x0E, 0x0E, 0x02, 0x04, 0x03, 0x0D, 0x01,
            0x04, 0x07, 0x0A, 0x0E, 0x0B, 0x0E, 0x0E, 0x02, 0x0C, 0x0F, 0x04, 0x0D, 0x04, 0x0D, 0x03, 0x01,
            0x03, 0x04, 0x04, 0x03, 0x04, 0x03, 0x0D, 0x01, 0x04, 0x0D, 0x03, 0x01, 0x03, 0x01, 0x01, 0x00
        };

        #endregion Cell Class

        #region Vertex Data

        /// <summary>
        /// The vertex data, accessible by case code. High nibble is the first corner index; Low nibble the second
        /// corner index.
        /// </summary>
        public static readonly ushort[][] VertexData = new ushort[][]
        {
            new ushort[] {},
            new ushort[] {0x6201, 0x5102, 0x3304},
            new ushort[] {0x6201, 0x2315, 0x4113},
            new ushort[] {0x5102, 0x3304, 0x2315, 0x4113},
            new ushort[] {0x5102, 0x4223, 0x1326},
            new ushort[] {0x3304, 0x6201, 0x4223, 0x1326},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x4223, 0x1326, 0x3304, 0x2315, 0x4113},
            new ushort[] {0x4113, 0x8337, 0x4223},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x6201, 0x2315, 0x8337, 0x4223},
            new ushort[] {0x5102, 0x3304, 0x2315, 0x8337, 0x4223},
            new ushort[] {0x5102, 0x4113, 0x8337, 0x1326},
            new ushort[] {0x4113, 0x8337, 0x1326, 0x3304, 0x6201},
            new ushort[] {0x6201, 0x2315, 0x8337, 0x1326, 0x5102},
            new ushort[] {0x3304, 0x2315, 0x8337, 0x1326},
            new ushort[] {0x3304, 0x1146, 0x2245},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x2245},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x2315, 0x4113, 0x5102, 0x1146, 0x2245},
            new ushort[] {0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x1146, 0x2245, 0x6201, 0x4223, 0x1326},
            new ushort[] {0x3304, 0x1146, 0x2245, 0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x4113},
            new ushort[] {0x4223, 0x4113, 0x8337, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x4223, 0x6201, 0x2315, 0x8337, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x4223, 0x8337, 0x2315, 0x2245, 0x1146, 0x5102},
            new ushort[] {0x5102, 0x4113, 0x8337, 0x1326, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x4113, 0x8337, 0x1326, 0x1146, 0x2245, 0x6201},
            new ushort[] {0x6201, 0x2315, 0x8337, 0x1326, 0x5102, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x2245, 0x2315, 0x8337, 0x1326, 0x1146},
            new ushort[] {0x2315, 0x2245, 0x8157},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x4113, 0x6201, 0x2245, 0x8157},
            new ushort[] {0x2245, 0x8157, 0x4113, 0x5102, 0x3304},
            new ushort[] {0x5102, 0x4223, 0x1326, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x6201, 0x4223, 0x1326, 0x3304, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x6201, 0x2245, 0x8157, 0x4113, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x4223, 0x1326, 0x3304, 0x2245, 0x8157, 0x4113},
            new ushort[] {0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x8337, 0x4223, 0x6201, 0x2245, 0x8157},
            new ushort[] {0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x4223},
            new ushort[] {0x5102, 0x4113, 0x8337, 0x1326, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x4113, 0x8337, 0x1326, 0x3304, 0x6201, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x5102, 0x1326, 0x8337, 0x8157, 0x2245, 0x6201},
            new ushort[] {0x8157, 0x8337, 0x1326, 0x3304, 0x2245},
            new ushort[] {0x2315, 0x3304, 0x1146, 0x8157},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x8157, 0x2315},
            new ushort[] {0x3304, 0x1146, 0x8157, 0x4113, 0x6201},
            new ushort[] {0x4113, 0x5102, 0x1146, 0x8157},
            new ushort[] {0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x1326, 0x4223, 0x6201, 0x2315, 0x8157, 0x1146},
            new ushort[] {0x3304, 0x1146, 0x8157, 0x4113, 0x6201, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x1326, 0x1146, 0x8157, 0x4113, 0x4223},
            new ushort[] {0x2315, 0x3304, 0x1146, 0x8157, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x8157, 0x2315, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x3304, 0x1146, 0x8157, 0x8337, 0x4223, 0x6201},
            new ushort[] {0x4223, 0x5102, 0x1146, 0x8157, 0x8337},
            new ushort[] {0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4113, 0x8337, 0x1326},
            new ushort[] {0x6201, 0x4113, 0x8337, 0x1326, 0x1146, 0x8157, 0x2315},
            new ushort[] {0x6201, 0x3304, 0x1146, 0x8157, 0x8337, 0x1326, 0x5102},
            new ushort[] {0x1326, 0x1146, 0x8157, 0x8337},
            new ushort[] {0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x5102, 0x3304, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x5102, 0x4223, 0x8267, 0x1146},
            new ushort[] {0x3304, 0x6201, 0x4223, 0x8267, 0x1146},
            new ushort[] {0x5102, 0x4223, 0x8267, 0x1146, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x1146, 0x8267, 0x4223, 0x4113, 0x2315, 0x3304},
            new ushort[] {0x4113, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x5102, 0x3304, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x8267, 0x1146, 0x5102, 0x4113, 0x8337},
            new ushort[] {0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304},
            new ushort[] {0x6201, 0x2315, 0x8337, 0x8267, 0x1146, 0x5102},
            new ushort[] {0x1146, 0x3304, 0x2315, 0x8337, 0x8267},
            new ushort[] {0x3304, 0x1326, 0x8267, 0x2245},
            new ushort[] {0x1326, 0x8267, 0x2245, 0x6201, 0x5102},
            new ushort[] {0x3304, 0x1326, 0x8267, 0x2245, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x1326, 0x8267, 0x2245, 0x2315, 0x4113, 0x5102},
            new ushort[] {0x5102, 0x4223, 0x8267, 0x2245, 0x3304},
            new ushort[] {0x6201, 0x4223, 0x8267, 0x2245},
            new ushort[] {0x5102, 0x4223, 0x8267, 0x2245, 0x3304, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x4113, 0x4223, 0x8267, 0x2245, 0x2315},
            new ushort[] {0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x1326, 0x8267, 0x2245, 0x6201, 0x5102, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x6201, 0x2315, 0x8337},
            new ushort[] {0x5102, 0x1326, 0x8267, 0x2245, 0x2315, 0x8337, 0x4223},
            new ushort[] {0x3304, 0x2245, 0x8267, 0x8337, 0x4113, 0x5102},
            new ushort[] {0x8337, 0x8267, 0x2245, 0x6201, 0x4113},
            new ushort[] {0x5102, 0x6201, 0x2315, 0x8337, 0x8267, 0x2245, 0x3304},
            new ushort[] {0x2315, 0x8337, 0x8267, 0x2245},
            new ushort[] {0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x2245, 0x8157, 0x4113, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x2245, 0x8157, 0x4113, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x4223, 0x8267, 0x1146, 0x5102, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x3304, 0x6201, 0x4223, 0x8267, 0x1146, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x4223, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157, 0x4113},
            new ushort[] {0x3304, 0x2245, 0x8157, 0x4113, 0x4223, 0x8267, 0x1146},
            new ushort[] {0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x8337, 0x4223, 0x6201, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x4223, 0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x1326, 0x8267, 0x1146},
            new ushort[] {0x8267, 0x1146, 0x5102, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304, 0x2315, 0x2245, 0x8157},
            new ushort[] {0x8337, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157},
            new ushort[] {0x3304, 0x2245, 0x8157, 0x8337, 0x8267, 0x1146},
            new ushort[] {0x8157, 0x2315, 0x3304, 0x1326, 0x8267},
            new ushort[] {0x8267, 0x8157, 0x2315, 0x6201, 0x5102, 0x1326},
            new ushort[] {0x8267, 0x1326, 0x3304, 0x6201, 0x4113, 0x8157},
            new ushort[] {0x8267, 0x8157, 0x4113, 0x5102, 0x1326},
            new ushort[] {0x5102, 0x4223, 0x8267, 0x8157, 0x2315, 0x3304},
            new ushort[] {0x2315, 0x6201, 0x4223, 0x8267, 0x8157},
            new ushort[] {0x3304, 0x5102, 0x4223, 0x8267, 0x8157, 0x4113, 0x6201},
            new ushort[] {0x4113, 0x4223, 0x8267, 0x8157},
            new ushort[] {0x8157, 0x2315, 0x3304, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x8157, 0x2315, 0x6201, 0x5102, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337},
            new ushort[] {0x8157, 0x8337, 0x4223, 0x6201, 0x3304, 0x1326, 0x8267},
            new ushort[] {0x5102, 0x1326, 0x8267, 0x8157, 0x8337, 0x4223},
            new ushort[] {0x8267, 0x8157, 0x2315, 0x3304, 0x5102, 0x4113, 0x8337},
            new ushort[] {0x6201, 0x4113, 0x8337, 0x8267, 0x8157, 0x2315},
            new ushort[] {0x6201, 0x3304, 0x5102, 0x8337, 0x8267, 0x8157},
            new ushort[] {0x8337, 0x8267, 0x8157},
            new ushort[] {0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x5102, 0x3304, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x5102, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x4223, 0x1326, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x4113, 0x8157, 0x8267, 0x4223},
            new ushort[] {0x4223, 0x4113, 0x8157, 0x8267, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x8157, 0x8267, 0x4223, 0x6201, 0x2315},
            new ushort[] {0x3304, 0x2315, 0x8157, 0x8267, 0x4223, 0x5102},
            new ushort[] {0x1326, 0x5102, 0x4113, 0x8157, 0x8267},
            new ushort[] {0x8157, 0x4113, 0x6201, 0x3304, 0x1326, 0x8267},
            new ushort[] {0x1326, 0x5102, 0x6201, 0x2315, 0x8157, 0x8267},
            new ushort[] {0x8267, 0x1326, 0x3304, 0x2315, 0x8157},
            new ushort[] {0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x2315, 0x4113, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x1146, 0x2245, 0x6201, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x4113, 0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x8337, 0x8157, 0x8267},
            new ushort[] {0x4223, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8157, 0x8267},
            new ushort[] {0x8157, 0x8267, 0x4223, 0x6201, 0x2315, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x2315, 0x8157, 0x8267, 0x4223, 0x5102, 0x1146, 0x2245},
            new ushort[] {0x1326, 0x5102, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x1326, 0x1146, 0x2245, 0x6201, 0x4113, 0x8157, 0x8267},
            new ushort[] {0x5102, 0x6201, 0x2315, 0x8157, 0x8267, 0x1326, 0x3304, 0x1146, 0x2245},
            new ushort[] {0x1326, 0x1146, 0x2245, 0x2315, 0x8157, 0x8267},
            new ushort[] {0x2315, 0x2245, 0x8267, 0x8337},
            new ushort[] {0x2315, 0x2245, 0x8267, 0x8337, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x4113, 0x6201, 0x2245, 0x8267, 0x8337},
            new ushort[] {0x5102, 0x4113, 0x8337, 0x8267, 0x2245, 0x3304},
            new ushort[] {0x2315, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x2315, 0x2245, 0x8267},
            new ushort[] {0x4113, 0x6201, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x4113, 0x4223, 0x1326, 0x3304, 0x2245, 0x8267, 0x8337},
            new ushort[] {0x2315, 0x2245, 0x8267, 0x4223, 0x4113},
            new ushort[] {0x2315, 0x2245, 0x8267, 0x4223, 0x4113, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x6201, 0x2245, 0x8267, 0x4223},
            new ushort[] {0x3304, 0x2245, 0x8267, 0x4223, 0x5102},
            new ushort[] {0x5102, 0x4113, 0x2315, 0x2245, 0x8267, 0x1326},
            new ushort[] {0x4113, 0x2315, 0x2245, 0x8267, 0x1326, 0x3304, 0x6201},
            new ushort[] {0x5102, 0x6201, 0x2245, 0x8267, 0x1326},
            new ushort[] {0x3304, 0x2245, 0x8267, 0x1326},
            new ushort[] {0x8267, 0x8337, 0x2315, 0x3304, 0x1146},
            new ushort[] {0x5102, 0x1146, 0x8267, 0x8337, 0x2315, 0x6201},
            new ushort[] {0x3304, 0x1146, 0x8267, 0x8337, 0x4113, 0x6201},
            new ushort[] {0x8337, 0x4113, 0x5102, 0x1146, 0x8267},
            new ushort[] {0x8267, 0x8337, 0x2315, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x1146, 0x8267, 0x8337, 0x2315, 0x6201, 0x4223, 0x1326},
            new ushort[] {0x8267, 0x8337, 0x4113, 0x6201, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326},
            new ushort[] {0x4113, 0x4223, 0x1326, 0x1146, 0x8267, 0x8337},
            new ushort[] {0x3304, 0x2315, 0x4113, 0x4223, 0x8267, 0x1146},
            new ushort[] {0x2315, 0x6201, 0x5102, 0x1146, 0x8267, 0x4223, 0x4113},
            new ushort[] {0x1146, 0x8267, 0x4223, 0x6201, 0x3304},
            new ushort[] {0x5102, 0x1146, 0x8267, 0x4223},
            new ushort[] {0x8267, 0x1326, 0x5102, 0x4113, 0x2315, 0x3304, 0x1146},
            new ushort[] {0x6201, 0x4113, 0x2315, 0x1326, 0x1146, 0x8267},
            new ushort[] {0x6201, 0x3304, 0x1146, 0x8267, 0x1326, 0x5102},
            new ushort[] {0x1326, 0x1146, 0x8267},
            new ushort[] {0x1326, 0x8337, 0x8157, 0x1146},
            new ushort[] {0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x4113, 0x5102, 0x3304, 0x2315, 0x1326, 0x8337, 0x8157, 0x1146},
            new ushort[] {0x8337, 0x8157, 0x1146, 0x5102, 0x4223},
            new ushort[] {0x6201, 0x4223, 0x8337, 0x8157, 0x1146, 0x3304},
            new ushort[] {0x8337, 0x8157, 0x1146, 0x5102, 0x4223, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x4223, 0x8337, 0x8157, 0x1146, 0x3304, 0x2315, 0x4113},
            new ushort[] {0x4223, 0x4113, 0x8157, 0x1146, 0x1326},
            new ushort[] {0x4223, 0x4113, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x1146, 0x8157, 0x2315, 0x6201, 0x4223, 0x1326},
            new ushort[] {0x4223, 0x5102, 0x3304, 0x2315, 0x8157, 0x1146, 0x1326},
            new ushort[] {0x4113, 0x8157, 0x1146, 0x5102},
            new ushort[] {0x6201, 0x4113, 0x8157, 0x1146, 0x3304},
            new ushort[] {0x2315, 0x8157, 0x1146, 0x5102, 0x6201},
            new ushort[] {0x2315, 0x8157, 0x1146, 0x3304},
            new ushort[] {0x2245, 0x3304, 0x1326, 0x8337, 0x8157},
            new ushort[] {0x6201, 0x2245, 0x8157, 0x8337, 0x1326, 0x5102},
            new ushort[] {0x2245, 0x3304, 0x1326, 0x8337, 0x8157, 0x6201, 0x2315, 0x4113},
            new ushort[] {0x2245, 0x2315, 0x4113, 0x5102, 0x1326, 0x8337, 0x8157},
            new ushort[] {0x4223, 0x8337, 0x8157, 0x2245, 0x3304, 0x5102},
            new ushort[] {0x8157, 0x2245, 0x6201, 0x4223, 0x8337},
            new ushort[] {0x2245, 0x3304, 0x5102, 0x4223, 0x8337, 0x8157, 0x4113, 0x6201, 0x2315},
            new ushort[] {0x4223, 0x8337, 0x8157, 0x2245, 0x2315, 0x4113},
            new ushort[] {0x4113, 0x8157, 0x2245, 0x3304, 0x1326, 0x4223},
            new ushort[] {0x1326, 0x4223, 0x4113, 0x8157, 0x2245, 0x6201, 0x5102},
            new ushort[] {0x8157, 0x2245, 0x3304, 0x1326, 0x4223, 0x6201, 0x2315},
            new ushort[] {0x5102, 0x1326, 0x4223, 0x2315, 0x8157, 0x2245},
            new ushort[] {0x3304, 0x5102, 0x4113, 0x8157, 0x2245},
            new ushort[] {0x4113, 0x8157, 0x2245, 0x6201},
            new ushort[] {0x5102, 0x6201, 0x2315, 0x8157, 0x2245, 0x3304},
            new ushort[] {0x2315, 0x8157, 0x2245},
            new ushort[] {0x1146, 0x1326, 0x8337, 0x2315, 0x2245},
            new ushort[] {0x1146, 0x1326, 0x8337, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x6201, 0x2245, 0x1146, 0x1326, 0x8337, 0x4113},
            new ushort[] {0x2245, 0x1146, 0x1326, 0x8337, 0x4113, 0x5102, 0x3304},
            new ushort[] {0x5102, 0x1146, 0x2245, 0x2315, 0x8337, 0x4223},
            new ushort[] {0x1146, 0x3304, 0x6201, 0x4223, 0x8337, 0x2315, 0x2245},
            new ushort[] {0x8337, 0x4113, 0x6201, 0x2245, 0x1146, 0x5102, 0x4223},
            new ushort[] {0x4223, 0x8337, 0x4113, 0x3304, 0x2245, 0x1146},
            new ushort[] {0x4113, 0x2315, 0x2245, 0x1146, 0x1326, 0x4223},
            new ushort[] {0x1146, 0x1326, 0x4223, 0x4113, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304},
            new ushort[] {0x1326, 0x4223, 0x6201, 0x2245, 0x1146},
            new ushort[] {0x4223, 0x5102, 0x3304, 0x2245, 0x1146, 0x1326},
            new ushort[] {0x2245, 0x1146, 0x5102, 0x4113, 0x2315},
            new ushort[] {0x4113, 0x2315, 0x2245, 0x1146, 0x3304, 0x6201},
            new ushort[] {0x6201, 0x2245, 0x1146, 0x5102},
            new ushort[] {0x3304, 0x2245, 0x1146},
            new ushort[] {0x3304, 0x1326, 0x8337, 0x2315},
            new ushort[] {0x5102, 0x1326, 0x8337, 0x2315, 0x6201},
            new ushort[] {0x6201, 0x3304, 0x1326, 0x8337, 0x4113},
            new ushort[] {0x5102, 0x1326, 0x8337, 0x4113},
            new ushort[] {0x4223, 0x8337, 0x2315, 0x3304, 0x5102},
            new ushort[] {0x6201, 0x4223, 0x8337, 0x2315},
            new ushort[] {0x3304, 0x5102, 0x4223, 0x8337, 0x4113, 0x6201},
            new ushort[] {0x4113, 0x4223, 0x8337},
            new ushort[] {0x4113, 0x2315, 0x3304, 0x1326, 0x4223},
            new ushort[] {0x1326, 0x4223, 0x4113, 0x2315, 0x6201, 0x5102},
            new ushort[] {0x3304, 0x1326, 0x4223, 0x6201},
            new ushort[] {0x5102, 0x1326, 0x4223},
            new ushort[] {0x5102, 0x4113, 0x2315, 0x3304},
            new ushort[] {0x6201, 0x4113, 0x2315},
            new ushort[] {0x6201, 0x3304, 0x5102},
            new ushort[] {}
        };

        #endregion Vertex Data

        /// <summary>
        /// Gets the case code for the given cell.
        /// </summary>
        /// <param name="corners">The density at each corner of the cell.</param>
        /// <returns>The case code.</returns>
        public static byte GetCaseCode(byte[] corners)
        {
            byte code = 0;
            byte konj = 0x01;
            for (int i = 0; i < corners.Length; i++)
            {
                code |= (byte)((corners[i] >> (corners.Length - 1 - i)) & konj);
                konj <<= 1;
            }

            return code;
        }
    }
}